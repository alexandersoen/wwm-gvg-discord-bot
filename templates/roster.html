{% extends "base.html" %}

{% block content %}
<div class="mb-8">
  <h2 class="text-3xl font-extrabold text-white">Team Builder</h2>
  <p class="text-gray-400 mt-1">Assigning roles for <span class="text-blue-400">{{ guild_name }}</span></p>
</div>

<form id="roster-form" hx-post="/team/update-assignment" hx-trigger="change" hx-swap="none">
  <div class="overflow-x-auto rounded-xl border border-gray-800 bg-gray-900">
    <table class="w-full border-collapse text-left">
      <thead>
        <tr class="bg-gray-950/50 border-b border-gray-800 text-gray-500 text-xs uppercase tracking-widest">
          <th class="p-4 sticky left-0 bg-gray-950/50 z-10">Member</th>
          <th class="w-10 bg-gray-950/50"></th>
          {% for role in all_gvg_roles %}
          <th class="p-4 text-center text-[{{ role.color }}] min-w-[100px]">{{ role.name }}</th>
          {% endfor %}
        </tr>
      </thead>

      <tbody id="roster-body">
        {% include 'partials/roster_rows.html' %}
      </tbody>
    </table>
  </div>
</form>

<script src="{{ url_for('static', path='js/roster.js') }}">
</script>

{% endblock %}
